(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(45)},18:function(e,n,t){},45:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),l=t(12),r=t.n(l),c=(t(18),t(2)),o=t(3),i=t.n(o),m=(t(38),"/api/persons"),s=function(){return i.a.get(m).then(function(e){return e.data})},f=function(e){return i.a.post(m,e).then(function(e){return e.data})},d=function(e){return i.a.delete("".concat(m,"/").concat(e)).then(function(e){return e.data})},v=function(e){var n=e.person,t=e.handleRemove;return u.a.createElement("li",null," ",n.name," ",n.number," ",u.a.createElement("button",{onClick:t},"poista")," ")},h=function(e){var n=e.persons,t=e.filt,a=e.handleRemove,l=n.filter(function(e){return e.name.includes(t)});return console.log("persons:::",n),console.log("arvot",Object.values(n)),l.map(function(e){return u.a.createElement(v,{key:e.id,person:e,handleRemove:function(){return a(e.id)}})})},b=function(e){var n=e.input;return null===n?null:u.a.createElement("div",{className:"message"},n)},p=function(e){return u.a.createElement("div",null,u.a.createElement("form",{onSubmit:e.addPerson},u.a.createElement("div",null,"nimi: ",u.a.createElement("input",{value:e.newName,onChange:e.handleNewName})),u.a.createElement("div",null,"numero: ",u.a.createElement("input",{value:e.newNumber,onChange:e.handleNewNumber})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},E=function(e){return u.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4: ",u.a.createElement("input",{value:e.filter,onChange:e.handleFilter}))},N=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],l=n[1],r=Object(a.useState)(""),o=Object(c.a)(r,2),i=o[0],m=o[1],v=Object(a.useState)(""),N=Object(c.a)(v,2),j=N[0],w=N[1],O=Object(a.useState)(""),g=Object(c.a)(O,2),y=g[0],S=g[1],T=Object(a.useState)(null),k=Object(c.a)(T,2),C=k[0],P=k[1];Object(a.useEffect)(function(){s().then(function(e){l(e)})},[]);return u.a.createElement("div",null,u.a.createElement(b,{input:C}),u.a.createElement("h1",null,"Puhelinluettelo"),u.a.createElement(E,{filter:y,handleFilter:function(e){S(e.target.value)}}),u.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),u.a.createElement(p,{addPerson:function(e){e.preventDefault();var n={name:i,number:j};if(t.map(function(e){return e.name}).includes(n.name))return P("".concat(n.name," on jo luettelossa")),setTimeout(function(){P(null)},5e3),null;f(n).then(function(e){l(t.concat(e)),P("Lis\xe4ttiin ".concat(i,", ").concat(j)),setTimeout(function(){P(null)},5e3),m(""),w("")}).catch(function(e){P(JSON.stringify(e.response.data.error)),setTimeout(function(){P(null)},5e3)})},handleNewName:function(e){m(e.target.value)},handleNewNumber:function(e){w(e.target.value)},newName:i,newNumber:j}),u.a.createElement("h2",null,"Numerot"),u.a.createElement(h,{persons:t,filt:y,handleRemove:function(e){var n=t.find(function(n){return n.id===e});d(e).then(function(a){l(t.filter(function(n){return n.id!==e})),P("Poistettiin ".concat(n.name,", ").concat(n.number)),setTimeout(function(){P(null)},5e3)}).catch(function(e){P("".concat(n.name," ei l\xf6ydy luettelosta")),setTimeout(function(){P(null)},5e3)})}}))};r.a.render(u.a.createElement(N,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.404f735c.chunk.js.map