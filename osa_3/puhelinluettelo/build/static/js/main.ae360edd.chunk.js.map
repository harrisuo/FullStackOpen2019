{"version":3,"sources":["services/persons.js","components/ViewPersons.js","components/Notification.js","components/AddPersonForm.js","components/FilterForm.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","request","post","console","log","id","delete","concat","Person","_ref","person","handleRemove","react_default","a","createElement","name","number","onClick","ViewPersons","_ref2","persons","filt","filter","includes","map","ViewPersons_Person","key","Notification","input","className","AddPersonForm","props","onSubmit","addPerson","value","newName","onChange","handleNewName","newNumber","handleNewNumber","type","FilterForm","handleFilter","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","message","setMessage","useEffect","personService","initialPersons","components_Notification","components_FilterForm","event","target","components_AddPersonForm","preventDefault","newPerson","nameList","p","setTimeout","returnedPersons","addedPerson","find","n","catch","error","components_ViewPersons","rightPerson","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ae360edd.chunk.js","sourcesContent":["import axios from 'axios'\n//import react from 'react'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n\n  // Estää toisen samannimisen kaverin lisäämisen\n  /*   getAll().then(persons => {\n      console.log(\"data:\", persons) \n      if (persons.map(person => person.name).includes(newObject.name)) {\n        return PromiseRejectionEvent\n      }\n    })  */\n\n  const request = axios.post(baseUrl, newObject)\n  console.log(\"testatatan\", request)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n//import RenderPerson from './RenderPerson'\n\nconst Person = ({ person, handleRemove }) =>\n    <li> {person.name} {person.number} <button onClick={handleRemove}>poista</button> </li>\n\nconst ViewPersons = ({ persons, filt, handleRemove }) => {\n\n    //case insensitiivisen filtterin toteuttaminen puuttuu vielä\n    const filteredNames = persons.filter(person => person.name.includes(filt))\n\n    return (\n        filteredNames.map(person =>\n            <Person\n                key={person.id}\n                person={person}\n                handleRemove={() => handleRemove(person.id)}\n            />\n        )\n    )\n}\n\nexport default ViewPersons","\nimport React from 'react'\n\nconst Notification = ({ input }) => {\n\n  if (input === null) {\n    return null\n  }\n  \n  return (\n    <div className=\"message\">\n      {input}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react'\nimport Notification from './Notification'\n\nconst AddPersonForm = (props) => {\n\n    return (\n        <div>\n            <form onSubmit={props.addPerson}>\n                <div>\n                    nimi: <input\n                        value={props.newName}\n                        onChange={props.handleNewName} />\n                </div>\n                <div>\n                    numero: <input\n                        value={props.newNumber}\n                        onChange={props.handleNewNumber} />\n                </div>\n                <div>\n                    <button type=\"submit\">lisää</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default AddPersonForm","import React from 'react'\n\nconst FilterForm = (props) => {\n    return (\n      <div>\n        rajaa näytettäviä: <input\n          value={props.filter}\n          onChange={props.handleFilter} />\n      </div>\n    )\n  }\n\nexport default FilterForm","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport ViewPersons from './components/ViewPersons'\nimport AddPersonForm from './components/AddPersonForm'\nimport FilterForm from './components/FilterForm'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    \n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    }\n  \n    //Estää saman nimen lisäämisen toiseen kertaan\n    const nameList = persons.map(p => p.name)\n    console.log(\"Lista:\", nameList)\n    if (nameList.includes(newPerson.name)) {\n      setMessage(`${newPerson.name} on jo luettelossa`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      return null\n    }\n\n    personService.create(newPerson).then(returnedPersons => {\n      const addedPerson = returnedPersons.find(n => n.name === newName)\n      console.log(\"frontti\", returnedPersons, addedPerson)\n      setPersons(persons.concat(addedPerson))\n      setMessage(`Lisättiin ${newName}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      setNewName('')\n      setNewNumber('')\n      \n    }).catch(error => {\n      setMessage(`${newName} on jo luettelossa`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    })\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleRemove = (id) => {\n    const rightPerson = persons.find(n => n.id === id)\n    personService.remove(id).then(returnedPersons => {\n      console.log(\"poisto:\", returnedPersons)\n      setPersons(returnedPersons)\n      setMessage(`Poistettiin ${rightPerson.name}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n\n    }).catch(error => {\n      setMessage(`${rightPerson.name} ei löydy luettelosta`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    })\n  }\n\n  return (\n    <div>\n\n      <Notification input={message} />\n\n      <h1>Puhelinluettelo</h1>\n      <FilterForm\n        filter={filter}\n        handleFilter={handleFilter}\n      />\n\n      <h2>Lisää uusi</h2>\n      <AddPersonForm\n        addPerson={addPerson}\n        handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <h2>Numerot</h2>\n      <ViewPersons\n        persons={persons}\n        filt={filter}\n        handleRemove={handleRemove}\n      />\n    </div >\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}