{"map":"{\"version\":3,\"sources\":[\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/services/persons.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/components/ViewPersons.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/components/Notification.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/components/AddPersonForm.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/components/FilterForm.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/App.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/index.js\"],\"names\":[\"baseUrl\",\"services_persons\",\"axios\",\"get\",\"then\",\"response\",\"data\",\"newObject\",\"request\",\"post\",\"console\",\"log\",\"id\",\"delete\",\"concat\",\"Person\",\"_ref\",\"person\",\"handleRemove\",\"react_default\",\"a\",\"createElement\",\"name\",\"number\",\"onClick\",\"ViewPersons\",\"_ref2\",\"persons\",\"map\",\"ViewPersons_Person\",\"key\",\"Notification\",\"input\",\"className\",\"AddPersonForm\",\"props\",\"onSubmit\",\"addPerson\",\"value\",\"newName\",\"onChange\",\"handleNewName\",\"newNumber\",\"handleNewNumber\",\"type\",\"FilterForm\",\"filter\",\"handleFilter\",\"App\",\"_useState\",\"useState\",\"_useState2\",\"Object\",\"slicedToArray\",\"setPersons\",\"_useState3\",\"_useState4\",\"setNewName\",\"_useState5\",\"_useState6\",\"setNewNumber\",\"_useState7\",\"_useState8\",\"setFilter\",\"_useState9\",\"_useState10\",\"message\",\"setMessage\",\"useEffect\",\"personService\",\"initialPersons\",\"components_Notification\",\"components_FilterForm\",\"event\",\"target\",\"includes\",\"filt\",\"components_AddPersonForm\",\"preventDefault\",\"newPerson\",\"nameList\",\"p\",\"setTimeout\",\"returnedPersons\",\"addedPerson\",\"find\",\"n\",\"catch\",\"error\",\"components_ViewPersons\",\"rightPerson\",\"ReactDOM\",\"render\",\"src_App\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import axios from 'axios'\\n//import react from 'react'\\n\\nconst baseUrl = '/api/persons'\\n\\nconst getAll = () => {\\n  const request = axios.get(baseUrl)\\n  return request.then(response => response.data)\\n}\\n\\nconst create = (newObject) => {\\n\\n  // Estää toisen samannimisen kaverin lisäämisen\\n  /*   getAll().then(persons => {\\n      console.log(\\\"data:\\\", persons) \\n      if (persons.map(person => person.name).includes(newObject.name)) {\\n        return PromiseRejectionEvent\\n      }\\n    })  */\\n\\n  const request = axios.post(baseUrl, newObject)\\n  console.log(\\\"testatatan\\\", request)\\n  return request.then(response => response.data)\\n}\\n\\nconst update = (id, newObject) => {\\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\\n  return request.then(response => response.data)\\n}\\n\\nconst remove = id => {\\n  const request = axios.delete(`${baseUrl}/${id}`)\\n  return request.then(response => response.data)\\n}\\n\\nexport default { getAll, create, update, remove }\",\"import React from 'react'\\n//import RenderPerson from './RenderPerson'\\n\\nconst Person = ({ person, handleRemove }) =>\\n    <li> {person.name} {person.number} <button onClick={handleRemove}>poista</button> </li>\\n\\nconst ViewPersons = ({ persons, handleRemove }) => {\\n\\n    //case insensitiivisen filtterin toteuttaminen puuttuu vielä\\n    //const filteredNames = persons.filter(person => person.name.includes(filt))\\n\\n    return (\\n        persons.map(person =>\\n            <Person\\n                key={person.id}\\n                person={person}\\n                handleRemove={() => handleRemove(person.id)}\\n            />\\n        )\\n    )\\n}\\n\\nexport default ViewPersons\",\"\\nimport React from 'react'\\n\\nconst Notification = ({ input }) => {\\n\\n  if (input === null) {\\n    return null\\n  }\\n  \\n  return (\\n    <div className=\\\"message\\\">\\n      {input}\\n    </div>\\n  )\\n}\\n\\nexport default Notification\",\"import React from 'react'\\nimport Notification from './Notification'\\n\\nconst AddPersonForm = (props) => {\\n\\n    return (\\n        <div>\\n            <form onSubmit={props.addPerson}>\\n                <div>\\n                    nimi: <input\\n                        value={props.newName}\\n                        onChange={props.handleNewName} />\\n                </div>\\n                <div>\\n                    numero: <input\\n                        value={props.newNumber}\\n                        onChange={props.handleNewNumber} />\\n                </div>\\n                <div>\\n                    <button type=\\\"submit\\\">lisää</button>\\n                </div>\\n            </form>\\n        </div>\\n    )\\n}\\n\\nexport default AddPersonForm\",\"import React from 'react'\\n\\nconst FilterForm = (props) => {\\n    return (\\n      <div>\\n        rajaa näytettäviä: <input\\n          value={props.filter}\\n          onChange={props.handleFilter} />\\n      </div>\\n    )\\n  }\\n\\nexport default FilterForm\",\"import React, { useState, useEffect } from 'react'\\nimport personService from './services/persons'\\nimport ViewPersons from './components/ViewPersons'\\nimport AddPersonForm from './components/AddPersonForm'\\nimport FilterForm from './components/FilterForm'\\nimport Notification from './components/Notification'\\n\\nconst App = () => {\\n  const [persons, setPersons] = useState([])\\n  const [newName, setNewName] = useState('')\\n  const [newNumber, setNewNumber] = useState('')\\n  const [filter, setFilter] = useState('')\\n  const [message, setMessage] = useState(null)\\n\\n\\n  useEffect(() => {\\n    personService.getAll().then(initialPersons => {\\n      setPersons(initialPersons)\\n    })\\n  }, [])\\n\\n  const addPerson = (event) => {\\n    event.preventDefault()\\n\\n    \\n    const newPerson = {\\n      name: newName,\\n      number: newNumber,\\n    }\\n  \\n    //Estää saman nimen lisäämisen toiseen kertaan\\n    const nameList = persons.map(p => p.name)\\n    console.log(\\\"Lista:\\\", nameList)\\n    if (nameList.includes(newPerson.name)) {\\n      setMessage(`${newPerson.name} on jo luettelossa`)\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n      return null\\n    }\\n\\n    personService.create(newPerson).then(returnedPersons => {\\n      const addedPerson = returnedPersons.find(n => n.name === newName)\\n      console.log(\\\"frontti\\\", returnedPersons, addedPerson)\\n      setPersons(persons.concat(addedPerson))\\n      setMessage(`Lisättiin ${newName}`)\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n      setNewName('')\\n      setNewNumber('')\\n      \\n    }).catch(error => {\\n      setMessage(`${newName} on jo luettelossa`)\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n    })\\n  }\\n\\n  const handleNewName = (event) => {\\n    setNewName(event.target.value)\\n  }\\n\\n  const handleNewNumber = (event) => {\\n    setNewNumber(event.target.value)\\n  }\\n\\n  const handleFilter = (event) => {\\n    setFilter(event.target.value)    \\n    \\n    //case insensitiivisen filtterin toteuttaminen puuttuu vielä\\n    setPersons.filter(person => person.name.includes(filt))\\n  }\\n\\n  const handleRemove = (id) => {\\n    const rightPerson = persons.find(n => n.id === id)\\n    personService.remove(id).then(returnedPersons => {\\n      console.log(\\\"poisto:\\\", returnedPersons)\\n      setPersons(returnedPersons)\\n      setMessage(`Poistettiin ${rightPerson.name}`)\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n\\n    }).catch(error => {\\n      setMessage(`${rightPerson.name} ei löydy luettelosta`)\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n    })\\n  }\\n\\n  return (\\n    <div>\\n\\n      <Notification input={message} />\\n\\n      <h1>Puhelinluettelo</h1>\\n      <FilterForm\\n        filter={filter}\\n        handleFilter={handleFilter}\\n      />\\n\\n      <h2>Lisää uusi</h2>\\n      <AddPersonForm\\n        addPerson={addPerson}\\n        handleNewName={handleNewName}\\n        handleNewNumber={handleNewNumber}\\n        newName={newName}\\n        newNumber={newNumber}\\n      />\\n\\n      <h2>Numerot</h2>\\n      <ViewPersons\\n        persons={persons}\\n        //filt={filter}\\n        handleRemove={handleRemove}\\n      />\\n    </div >\\n  )\\n\\n}\\n\\nexport default App\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\n//import * as serviceWorker from './serviceWorker';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: https://bit.ly/CRA-PWA\\n//serviceWorker.unregister();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(38)},18:function(e,n,t){},38:function(e,n,t){\"use strict\";t.r(n);var a=t(0),u=t.n(a),l=t(11),o=t.n(l),c=(t(18),t(2)),r=t(3),i=t.n(r),m=\"/api/persons\",s=function(){return i.a.get(m).then(function(e){return e.data})},f=function(e){var n=i.a.post(m,e);return console.log(\"testatatan\",n),n.then(function(e){return e.data})},d=function(e){return i.a.delete(\"\".concat(m,\"/\").concat(e)).then(function(e){return e.data})},v=function(e){var n=e.person,t=e.handleRemove;return u.a.createElement(\"li\",null,\" \",n.name,\" \",n.number,\" \",u.a.createElement(\"button\",{onClick:t},\"poista\"),\" \")},h=function(e){var n=e.persons,t=e.handleRemove;return n.map(function(e){return u.a.createElement(v,{key:e.id,person:e,handleRemove:function(){return t(e.id)}})})},E=function(e){var n=e.input;return null===n?null:u.a.createElement(\"div\",{className:\"message\"},n)},p=function(e){return u.a.createElement(\"div\",null,u.a.createElement(\"form\",{onSubmit:e.addPerson},u.a.createElement(\"div\",null,\"nimi: \",u.a.createElement(\"input\",{value:e.newName,onChange:e.handleNewName})),u.a.createElement(\"div\",null,\"numero: \",u.a.createElement(\"input\",{value:e.newNumber,onChange:e.handleNewNumber})),u.a.createElement(\"div\",null,u.a.createElement(\"button\",{type:\"submit\"},\"lis\\xe4\\xe4\"))))},b=function(e){return u.a.createElement(\"div\",null,\"rajaa n\\xe4ytett\\xe4vi\\xe4: \",u.a.createElement(\"input\",{value:e.filter,onChange:e.handleFilter}))},j=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],l=n[1],o=Object(a.useState)(\"\"),r=Object(c.a)(o,2),i=r[0],m=r[1],v=Object(a.useState)(\"\"),j=Object(c.a)(v,2),w=j[0],N=j[1],g=Object(a.useState)(\"\"),O=Object(c.a)(g,2),y=O[0],S=O[1],T=Object(a.useState)(null),k=Object(c.a)(T,2),C=k[0],P=k[1];Object(a.useEffect)(function(){s().then(function(e){l(e)})},[]);return u.a.createElement(\"div\",null,u.a.createElement(E,{input:C}),u.a.createElement(\"h1\",null,\"Puhelinluettelo\"),u.a.createElement(b,{filter:y,handleFilter:function(e){S(e.target.value),l.filter(function(e){return e.name.includes(filt)})}}),u.a.createElement(\"h2\",null,\"Lis\\xe4\\xe4 uusi\"),u.a.createElement(p,{addPerson:function(e){e.preventDefault();var n={name:i,number:w},a=t.map(function(e){return e.name});if(console.log(\"Lista:\",a),a.includes(n.name))return P(\"\".concat(n.name,\" on jo luettelossa\")),setTimeout(function(){P(null)},5e3),null;f(n).then(function(e){var n=e.find(function(e){return e.name===i});console.log(\"frontti\",e,n),l(t.concat(n)),P(\"Lis\\xe4ttiin \".concat(i)),setTimeout(function(){P(null)},5e3),m(\"\"),N(\"\")}).catch(function(e){P(\"\".concat(i,\" on jo luettelossa\")),setTimeout(function(){P(null)},5e3)})},handleNewName:function(e){m(e.target.value)},handleNewNumber:function(e){N(e.target.value)},newName:i,newNumber:w}),u.a.createElement(\"h2\",null,\"Numerot\"),u.a.createElement(h,{persons:t,handleRemove:function(e){var n=t.find(function(n){return n.id===e});d(e).then(function(e){console.log(\"poisto:\",e),l(e),P(\"Poistettiin \".concat(n.name)),setTimeout(function(){P(null)},5e3)}).catch(function(e){P(\"\".concat(n.name,\" ei l\\xf6ydy luettelosta\")),setTimeout(function(){P(null)},5e3)})}}))};o.a.render(u.a.createElement(j,null),document.getElementById(\"root\"))}},[[12,1,2]]]);","extractedComments":[]}