{"map":"{\"version\":3,\"sources\":[\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/services/persons.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/components/ViewPersons.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/components/Notification.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/components/AddPersonForm.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/components/FilterForm.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/App.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/index.js\"],\"names\":[\"baseUrl\",\"services_persons\",\"axios\",\"get\",\"then\",\"response\",\"data\",\"newObject\",\"post\",\"id\",\"delete\",\"concat\",\"Person\",\"_ref\",\"person\",\"handleRemove\",\"react_default\",\"a\",\"createElement\",\"name\",\"number\",\"onClick\",\"ViewPersons\",\"_ref2\",\"persons\",\"filter\",\"includes\",\"map\",\"ViewPersons_Person\",\"key\",\"Notification\",\"input\",\"className\",\"AddPersonForm\",\"props\",\"onSubmit\",\"addPerson\",\"value\",\"newName\",\"onChange\",\"handleNewName\",\"newNumber\",\"handleNewNumber\",\"type\",\"FilterForm\",\"handleFilter\",\"App\",\"_useState\",\"useState\",\"_useState2\",\"Object\",\"slicedToArray\",\"setPersons\",\"_useState3\",\"_useState4\",\"setNewName\",\"_useState5\",\"_useState6\",\"setNewNumber\",\"_useState7\",\"_useState8\",\"setFilter\",\"_useState9\",\"_useState10\",\"message\",\"setMessage\",\"useEffect\",\"personService\",\"initialPersons\",\"components_Notification\",\"components_FilterForm\",\"event\",\"target\",\"components_AddPersonForm\",\"preventDefault\",\"setTimeout\",\"returnedPersons\",\"addedPerson\",\"find\",\"n\",\"console\",\"log\",\"catch\",\"error\",\"components_ViewPersons\",\"rightPerson\",\"ReactDOM\",\"render\",\"src_App\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import axios from 'axios'\\nimport react from 'react'\\n\\nconst baseUrl = '/api/persons'\\n\\nconst getAll = () => {\\n  const request = axios.get(baseUrl)\\n  return request.then(response => response.data)\\n}\\n\\nconst create = (newObject) => {\\n\\n  // Estää toisen samannimisen kaverin lisäämisen\\n/*   getAll().then(persons => {\\n    console.log(\\\"data:\\\", persons) \\n    if (persons.map(person => person.name).includes(newObject.name)) {\\n      return PromiseRejectionEvent\\n    }\\n  })  */\\n\\n  const request = axios.post(baseUrl, newObject)\\n  return request.then(response => response.data)\\n}\\n\\nconst update = (id, newObject) => {\\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\\n  return request.then(response => response.data)\\n}\\n\\nconst remove = id => {\\n  const request = axios.delete(`${baseUrl}/${id}`)\\n  return request.then(response => response.data)\\n}\\n\\nexport default { getAll, create, update, remove }\",\"import React from 'react'\\n//import RenderPerson from './RenderPerson'\\n\\nconst Person = ({ person, handleRemove }) =>\\n    <li> {person.name} {person.number} <button onClick={handleRemove}>poista</button> </li>\\n\\nconst ViewPersons = ({ persons, filter, handleRemove }) => {\\n\\n    //case insensitiivisen filtterin toteuttaminen puuttuu vielä\\n    const filteredNames = persons.filter(person => person.name.includes(filter))\\n\\n    return (\\n        filteredNames.map(person =>\\n            <Person\\n                key={person.id}\\n                person={person}\\n                handleRemove={() => handleRemove(person.id)}\\n            />\\n        )\\n    )\\n}\\n\\nexport default ViewPersons\",\"\\nimport React from 'react'\\n\\nconst Notification = ({ input }) => {\\n\\n  if (input === null) {\\n    return null\\n  }\\n  \\n  return (\\n    <div className=\\\"message\\\">\\n      {input}\\n    </div>\\n  )\\n}\\n\\nexport default Notification\",\"import React from 'react'\\nimport Notification from './Notification'\\n\\nconst AddPersonForm = (props) => {\\n\\n    return (\\n        <div>\\n            <form onSubmit={props.addPerson}>\\n                <div>\\n                    nimi: <input\\n                        value={props.newName}\\n                        onChange={props.handleNewName} />\\n                </div>\\n                <div>\\n                    numero: <input\\n                        value={props.newNumber}\\n                        onChange={props.handleNewNumber} />\\n                </div>\\n                <div>\\n                    <button type=\\\"submit\\\">lisää</button>\\n                </div>\\n            </form>\\n        </div>\\n    )\\n}\\n\\nexport default AddPersonForm\",\"import React from 'react'\\n\\nconst FilterForm = (props) => {\\n    return (\\n      <div>\\n        rajaa näytettäviä: <input\\n          value={props.filter}\\n          onChange={props.handleFilter} />\\n      </div>\\n    )\\n  }\\n\\nexport default FilterForm\",\"import React, { useState, useEffect } from 'react'\\nimport personService from './services/persons'\\nimport ViewPersons from './components/ViewPersons'\\nimport AddPersonForm from './components/AddPersonForm'\\nimport FilterForm from './components/FilterForm'\\nimport Notification from './components/Notification'\\n\\nconst App = () => {\\n  const [persons, setPersons] = useState([])\\n  const [newName, setNewName] = useState('')\\n  const [newNumber, setNewNumber] = useState('')\\n  const [filter, setFilter] = useState('')\\n  const [message, setMessage] = useState(null)\\n\\n\\n  useEffect(() => {\\n    personService.getAll().then(initialPersons => {\\n      setPersons(initialPersons)\\n    })\\n  }, [])\\n\\n  const addPerson = (event) => {\\n    event.preventDefault()\\n\\n    //Estää saman nimen lisäämisen toiseen kertaan\\n    if (persons.map(person => person.name).includes(newName)) {\\n      setMessage(`${newName} on jo luettelossa`)\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n      return null\\n    }\\n\\n    const newPerson = {\\n      name: newName,\\n      number: newNumber,\\n    }\\n\\n    personService.create(newPerson).then(returnedPersons => {\\n      const addedPerson = returnedPersons.find(n => n.name === newName)\\n      setPersons(persons.concat(addedPerson))\\n      setMessage(`Lisättiin ${newName}`)\\n      console.log(\\\"frontend\\\", addedPerson, returnedPersons)\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n      setNewName('')\\n      setNewNumber('')\\n      \\n    }).catch(error => {\\n      setMessage(`${newName} on jo luettelossa`)\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n    })\\n  }\\n\\n  const handleNewName = (event) => {\\n    setNewName(event.target.value)\\n  }\\n\\n  const handleNewNumber = (event) => {\\n    setNewNumber(event.target.value)\\n  }\\n\\n  const handleFilter = (event) => {\\n    setFilter(event.target.value)\\n  }\\n\\n  const handleRemove = (id) => {\\n    const rightPerson = persons.find(n => n.id === id)\\n    personService.remove(id).then(returnedPersons => {\\n      console.log(\\\"poisto:\\\", returnedPersons)\\n      setPersons(returnedPersons)\\n      setMessage(`Poistettiin ${rightPerson.name}`)\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n\\n    }).catch(error => {\\n      setMessage(`${rightPerson.name} ei löydy luettelosta`)\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n    })\\n  }\\n\\n  return (\\n    <div>\\n\\n      <Notification input={message} />\\n\\n      <h1>Puhelinluettelo</h1>\\n      <FilterForm\\n        filter={filter}\\n        handleFilter={handleFilter}\\n      />\\n\\n      <h2>Lisää uusi</h2>\\n      <AddPersonForm\\n        addPerson={addPerson}\\n        handleNewName={handleNewName}\\n        handleNewNumber={handleNewNumber}\\n        newName={newName}\\n        newNumber={newNumber}\\n      />\\n\\n      <h2>Numerot</h2>\\n      <ViewPersons\\n        persons={persons}\\n        filter={filter}\\n        handleRemove={handleRemove}\\n      />\\n    </div >\\n  )\\n\\n}\\n\\nexport default App\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\n//import * as serviceWorker from './serviceWorker';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: https://bit.ly/CRA-PWA\\n//serviceWorker.unregister();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(38)},18:function(e,n,t){},38:function(e,n,t){\"use strict\";t.r(n);var a=t(0),u=t.n(a),l=t(11),r=t.n(l),c=(t(18),t(2)),o=t(3),i=t.n(o),m=\"/api/persons\",f=function(){return i.a.get(m).then(function(e){return e.data})},s=function(e){return i.a.post(m,e).then(function(e){return e.data})},d=function(e){return i.a.delete(\"\".concat(m,\"/\").concat(e)).then(function(e){return e.data})},h=function(e){var n=e.person,t=e.handleRemove;return u.a.createElement(\"li\",null,\" \",n.name,\" \",n.number,\" \",u.a.createElement(\"button\",{onClick:t},\"poista\"),\" \")},v=function(e){var n=e.persons,t=e.filter,a=e.handleRemove;return n.filter(function(e){return e.name.includes(t)}).map(function(e){return u.a.createElement(h,{key:e.id,person:e,handleRemove:function(){return a(e.id)}})})},E=function(e){var n=e.input;return null===n?null:u.a.createElement(\"div\",{className:\"message\"},n)},p=function(e){return u.a.createElement(\"div\",null,u.a.createElement(\"form\",{onSubmit:e.addPerson},u.a.createElement(\"div\",null,\"nimi: \",u.a.createElement(\"input\",{value:e.newName,onChange:e.handleNewName})),u.a.createElement(\"div\",null,\"numero: \",u.a.createElement(\"input\",{value:e.newNumber,onChange:e.handleNewNumber})),u.a.createElement(\"div\",null,u.a.createElement(\"button\",{type:\"submit\"},\"lis\\xe4\\xe4\"))))},b=function(e){return u.a.createElement(\"div\",null,\"rajaa n\\xe4ytett\\xe4vi\\xe4: \",u.a.createElement(\"input\",{value:e.filter,onChange:e.handleFilter}))},j=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],l=n[1],r=Object(a.useState)(\"\"),o=Object(c.a)(r,2),i=o[0],m=o[1],h=Object(a.useState)(\"\"),j=Object(c.a)(h,2),w=j[0],N=j[1],g=Object(a.useState)(\"\"),O=Object(c.a)(g,2),y=O[0],S=O[1],T=Object(a.useState)(null),k=Object(c.a)(T,2),C=k[0],P=k[1];Object(a.useEffect)(function(){f().then(function(e){l(e)})},[]);return u.a.createElement(\"div\",null,u.a.createElement(E,{input:C}),u.a.createElement(\"h1\",null,\"Puhelinluettelo\"),u.a.createElement(b,{filter:y,handleFilter:function(e){S(e.target.value)}}),u.a.createElement(\"h2\",null,\"Lis\\xe4\\xe4 uusi\"),u.a.createElement(p,{addPerson:function(e){if(e.preventDefault(),t.map(function(e){return e.name}).includes(i))return P(\"\".concat(i,\" on jo luettelossa\")),setTimeout(function(){P(null)},5e3),null;s({name:i,number:w}).then(function(e){var n=e.find(function(e){return e.name===i});l(t.concat(n)),P(\"Lis\\xe4ttiin \".concat(i)),console.log(\"frontend\",n,e),setTimeout(function(){P(null)},5e3),m(\"\"),N(\"\")}).catch(function(e){P(\"\".concat(i,\" on jo luettelossa\")),setTimeout(function(){P(null)},5e3)})},handleNewName:function(e){m(e.target.value)},handleNewNumber:function(e){N(e.target.value)},newName:i,newNumber:w}),u.a.createElement(\"h2\",null,\"Numerot\"),u.a.createElement(v,{persons:t,filter:y,handleRemove:function(e){var n=t.find(function(n){return n.id===e});d(e).then(function(e){console.log(\"poisto:\",e),l(e),P(\"Poistettiin \".concat(n.name)),setTimeout(function(){P(null)},5e3)}).catch(function(e){P(\"\".concat(n.name,\" ei l\\xf6ydy luettelosta\")),setTimeout(function(){P(null)},5e3)})}}))};r.a.render(u.a.createElement(j,null),document.getElementById(\"root\"))}},[[12,1,2]]]);","extractedComments":[]}