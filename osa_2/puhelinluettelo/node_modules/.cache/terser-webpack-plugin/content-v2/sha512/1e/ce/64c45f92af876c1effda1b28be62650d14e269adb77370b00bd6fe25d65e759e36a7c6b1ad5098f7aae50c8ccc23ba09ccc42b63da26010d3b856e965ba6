{"map":"{\"version\":3,\"sources\":[\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/services/persons.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/components/ViewPersons.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/components/Notification.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/components/AddPersonForm.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/components/FilterForm.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/App.js\",\"/Users/mari/Documents/Harri/FSO/osa_2/puhelinluettelo/src/index.js\"],\"names\":[\"baseUrl\",\"services_persons\",\"axios\",\"get\",\"then\",\"response\",\"data\",\"newObject\",\"post\",\"id\",\"delete\",\"concat\",\"Person\",\"_ref\",\"person\",\"handleRemove\",\"react_default\",\"a\",\"createElement\",\"name\",\"number\",\"onClick\",\"ViewPersons\",\"_ref2\",\"persons\",\"filt\",\"filteredNames\",\"filter\",\"includes\",\"console\",\"log\",\"Object\",\"values\",\"map\",\"ViewPersons_Person\",\"key\",\"Notification\",\"input\",\"className\",\"AddPersonForm\",\"props\",\"onSubmit\",\"addPerson\",\"value\",\"newName\",\"onChange\",\"handleNewName\",\"newNumber\",\"handleNewNumber\",\"type\",\"FilterForm\",\"handleFilter\",\"App\",\"_useState\",\"useState\",\"_useState2\",\"slicedToArray\",\"setPersons\",\"_useState3\",\"_useState4\",\"setNewName\",\"_useState5\",\"_useState6\",\"setNewNumber\",\"_useState7\",\"_useState8\",\"setFilter\",\"_useState9\",\"_useState10\",\"message\",\"setMessage\",\"useEffect\",\"personService\",\"initialPersons\",\"components_Notification\",\"components_FilterForm\",\"event\",\"target\",\"components_AddPersonForm\",\"preventDefault\",\"newPerson\",\"p\",\"setTimeout\",\"returnedPerson\",\"catch\",\"error\",\"JSON\",\"stringify\",\"components_ViewPersons\",\"rightPerson\",\"find\",\"n\",\"returnedPersons\",\"ReactDOM\",\"render\",\"src_App\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import axios from 'axios'\\nimport { resolve } from 'url';\\n//import react from 'react'\\n\\nconst baseUrl = '/api/persons'\\n\\nconst getAll = () => {\\n  const request = axios.get(baseUrl)\\n  return request.then(response => response.data)\\n}\\n\\nconst create = newObject => {\\n  const request = axios.post(baseUrl, newObject)\\n  return request.then(response => response.data)\\n};\\n\\nconst update = (id, newObject) => {\\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\\n  return request.then(response => response.data)\\n}\\n\\nconst remove = id => {\\n  const request = axios.delete(`${baseUrl}/${id}`)\\n  return request.then(response => response.data)\\n};\\n\\nexport default { getAll, create, update, remove }\",\"import React from 'react'\\n\\nconst Person = ({ person, handleRemove }) =>\\n    <li> {person.name} {person.number} <button onClick={handleRemove}>poista</button> </li>\\n\\nconst ViewPersons = ({ persons, filt, handleRemove }) => {\\n\\n    //case insensitiivisen filtterin toteuttaminen puuttuu vielä\\n    const filteredNames = persons.filter(person => person.name.includes(filt))\\n \\n    console.log(\\\"persons:::\\\", persons)\\n    console.log(\\\"arvot\\\", Object.values(persons))\\n    return (\\n        filteredNames.map(person => \\n            <Person\\n                key={person.id}\\n                person={person}\\n                handleRemove={() => handleRemove(person.id)}\\n            />\\n        )\\n    )\\n}\\n\\nexport default ViewPersons\",\"\\nimport React from 'react'\\n\\nconst Notification = ({ input }) => {\\n\\n  if (input === null) {\\n    return null\\n  }\\n  \\n  return (\\n    <div className=\\\"message\\\">\\n      {input}\\n    </div>\\n  )\\n}\\n\\nexport default Notification\",\"import React from 'react'\\nimport Notification from './Notification'\\n\\nconst AddPersonForm = (props) => {\\n\\n    return (\\n        <div>\\n            <form onSubmit={props.addPerson}>\\n                <div>\\n                    nimi: <input\\n                        value={props.newName}\\n                        onChange={props.handleNewName} />\\n                </div>\\n                <div>\\n                    numero: <input\\n                        value={props.newNumber}\\n                        onChange={props.handleNewNumber} />\\n                </div>\\n                <div>\\n                    <button type=\\\"submit\\\">lisää</button>\\n                </div>\\n            </form>\\n        </div>\\n    )\\n}\\n\\nexport default AddPersonForm\",\"import React from 'react'\\n\\nconst FilterForm = (props) => {\\n    return (\\n      <div>\\n        rajaa näytettäviä: <input\\n          value={props.filter}\\n          onChange={props.handleFilter} />\\n      </div>\\n    )\\n  }\\n\\nexport default FilterForm\",\"import React, { useState, useEffect } from 'react'\\nimport personService from './services/persons'\\nimport ViewPersons from './components/ViewPersons'\\nimport AddPersonForm from './components/AddPersonForm'\\nimport FilterForm from './components/FilterForm'\\nimport Notification from './components/Notification'\\n\\nconst App = () => {\\n  const [persons, setPersons] = useState([])\\n  const [newName, setNewName] = useState('')\\n  const [newNumber, setNewNumber] = useState('')\\n  const [filter, setFilter] = useState('')\\n  const [message, setMessage] = useState(null)\\n\\n\\n  useEffect(() => {\\n    personService.getAll().then(initialPersons => {\\n      setPersons(initialPersons)\\n    })\\n  }, [])\\n\\n  const addPerson = (event) => {\\n    event.preventDefault()\\n\\n    const newPerson = {\\n      name: newName,\\n      number: newNumber,\\n    }\\n\\n    //Estä saman nimen lisäämisen toiseen kertaan\\n    if (persons.map(p => p.name).includes(newPerson.name)) {\\n      setMessage(`${newPerson.name} on jo luettelossa`)\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n      return null\\n    }\\n\\n    personService.create(newPerson).then(returnedPerson => {\\n      setPersons(persons.concat(returnedPerson))\\n      setMessage(`Lisättiin ${newName}, ${newNumber}`)\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n      setNewName('')\\n      setNewNumber('')\\n    })\\n      .catch(error => {\\n        //setMessage(`${newName} ei voitu lisätä`)\\n        setMessage(JSON.stringify(error.response.data.error))\\n        setTimeout(() => {\\n          setMessage(null)\\n        }, 5000)\\n      })\\n  }\\n\\n  const handleNewName = (event) => {\\n    setNewName(event.target.value)\\n  }\\n\\n  const handleNewNumber = (event) => {\\n    setNewNumber(event.target.value)\\n  }\\n\\n  const handleFilter = (event) => {\\n    setFilter(event.target.value)\\n  }\\n\\n  const handleRemove = id => {\\n    const rightPerson = persons.find(n => n.id === id)\\n    personService.remove(id).then(returnedPersons => {\\n      setPersons(persons.filter(p => p.id !== id))\\n      setMessage(`Poistettiin ${rightPerson.name}, ${rightPerson.number}`)\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n\\n    }).catch(error => {\\n      setMessage(`${rightPerson.name} ei löydy luettelosta`)\\n      //setMessage(JSON.stringify(error.response.data.error))\\n      setTimeout(() => {\\n        setMessage(null)\\n      }, 5000)\\n    })\\n  }\\n\\n  return (\\n    <div>\\n      <Notification input={message} />\\n\\n      <h1>Puhelinluettelo</h1>\\n      <FilterForm\\n        filter={filter}\\n        handleFilter={handleFilter}\\n      />\\n\\n      <h2>Lisää uusi</h2>\\n      <AddPersonForm\\n        addPerson={addPerson}\\n        handleNewName={handleNewName}\\n        handleNewNumber={handleNewNumber}\\n        newName={newName}\\n        newNumber={newNumber}\\n      />\\n\\n      <h2>Numerot</h2>\\n      <ViewPersons\\n        persons={persons}\\n        filt={filter}\\n        handleRemove={handleRemove}\\n      />\\n    </div >\\n  )\\n\\n}\\n\\nexport default App\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\n//import * as serviceWorker from './serviceWorker';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: https://bit.ly/CRA-PWA\\n//serviceWorker.unregister();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(45)},18:function(e,n,t){},45:function(e,n,t){\"use strict\";t.r(n);var a=t(0),u=t.n(a),l=t(12),r=t.n(l),c=(t(18),t(2)),o=t(3),i=t.n(o),m=(t(38),\"/api/persons\"),s=function(){return i.a.get(m).then(function(e){return e.data})},f=function(e){return i.a.post(m,e).then(function(e){return e.data})},d=function(e){return i.a.delete(\"\".concat(m,\"/\").concat(e)).then(function(e){return e.data})},v=function(e){var n=e.person,t=e.handleRemove;return u.a.createElement(\"li\",null,\" \",n.name,\" \",n.number,\" \",u.a.createElement(\"button\",{onClick:t},\"poista\"),\" \")},h=function(e){var n=e.persons,t=e.filt,a=e.handleRemove,l=n.filter(function(e){return e.name.includes(t)});return console.log(\"persons:::\",n),console.log(\"arvot\",Object.values(n)),l.map(function(e){return u.a.createElement(v,{key:e.id,person:e,handleRemove:function(){return a(e.id)}})})},b=function(e){var n=e.input;return null===n?null:u.a.createElement(\"div\",{className:\"message\"},n)},p=function(e){return u.a.createElement(\"div\",null,u.a.createElement(\"form\",{onSubmit:e.addPerson},u.a.createElement(\"div\",null,\"nimi: \",u.a.createElement(\"input\",{value:e.newName,onChange:e.handleNewName})),u.a.createElement(\"div\",null,\"numero: \",u.a.createElement(\"input\",{value:e.newNumber,onChange:e.handleNewNumber})),u.a.createElement(\"div\",null,u.a.createElement(\"button\",{type:\"submit\"},\"lis\\xe4\\xe4\"))))},E=function(e){return u.a.createElement(\"div\",null,\"rajaa n\\xe4ytett\\xe4vi\\xe4: \",u.a.createElement(\"input\",{value:e.filter,onChange:e.handleFilter}))},N=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],l=n[1],r=Object(a.useState)(\"\"),o=Object(c.a)(r,2),i=o[0],m=o[1],v=Object(a.useState)(\"\"),N=Object(c.a)(v,2),j=N[0],w=N[1],O=Object(a.useState)(\"\"),g=Object(c.a)(O,2),y=g[0],S=g[1],T=Object(a.useState)(null),k=Object(c.a)(T,2),C=k[0],P=k[1];Object(a.useEffect)(function(){s().then(function(e){l(e)})},[]);return u.a.createElement(\"div\",null,u.a.createElement(b,{input:C}),u.a.createElement(\"h1\",null,\"Puhelinluettelo\"),u.a.createElement(E,{filter:y,handleFilter:function(e){S(e.target.value)}}),u.a.createElement(\"h2\",null,\"Lis\\xe4\\xe4 uusi\"),u.a.createElement(p,{addPerson:function(e){e.preventDefault();var n={name:i,number:j};if(t.map(function(e){return e.name}).includes(n.name))return P(\"\".concat(n.name,\" on jo luettelossa\")),setTimeout(function(){P(null)},5e3),null;f(n).then(function(e){l(t.concat(e)),P(\"Lis\\xe4ttiin \".concat(i,\", \").concat(j)),setTimeout(function(){P(null)},5e3),m(\"\"),w(\"\")}).catch(function(e){P(JSON.stringify(e.response.data.error)),setTimeout(function(){P(null)},5e3)})},handleNewName:function(e){m(e.target.value)},handleNewNumber:function(e){w(e.target.value)},newName:i,newNumber:j}),u.a.createElement(\"h2\",null,\"Numerot\"),u.a.createElement(h,{persons:t,filt:y,handleRemove:function(e){var n=t.find(function(n){return n.id===e});d(e).then(function(a){l(t.filter(function(n){return n.id!==e})),P(\"Poistettiin \".concat(n.name,\", \").concat(n.number)),setTimeout(function(){P(null)},5e3)}).catch(function(e){P(\"\".concat(n.name,\" ei l\\xf6ydy luettelosta\")),setTimeout(function(){P(null)},5e3)})}}))};r.a.render(u.a.createElement(N,null),document.getElementById(\"root\"))}},[[13,1,2]]]);","extractedComments":[]}