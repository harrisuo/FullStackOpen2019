{"version":3,"sources":["services/persons.js","components/ViewPersons.js","components/Notification.js","components/AddPersonForm.js","components/FilterForm.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","delete","concat","Person","_ref","person","handleRemove","react_default","a","createElement","name","number","onClick","ViewPersons","_ref2","persons","filt","filteredNames","filter","includes","console","log","Object","values","map","ViewPersons_Person","key","Notification","input","className","AddPersonForm","props","onSubmit","addPerson","value","newName","onChange","handleNewName","newNumber","handleNewNumber","type","FilterForm","handleFilter","App","_useState","useState","_useState2","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","message","setMessage","useEffect","personService","initialPersons","components_Notification","components_FilterForm","event","target","components_AddPersonForm","preventDefault","newPerson","p","setTimeout","returnedPerson","catch","error","JSON","stringify","components_ViewPersons","rightPerson","find","n","returnedPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.404f735c.chunk.js","sourcesContent":["import axios from 'axios'\nimport { resolve } from 'url';\n//import react from 'react'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n};\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Person = ({ person, handleRemove }) =>\n    <li> {person.name} {person.number} <button onClick={handleRemove}>poista</button> </li>\n\nconst ViewPersons = ({ persons, filt, handleRemove }) => {\n\n    //case insensitiivisen filtterin toteuttaminen puuttuu vielä\n    const filteredNames = persons.filter(person => person.name.includes(filt))\n \n    console.log(\"persons:::\", persons)\n    console.log(\"arvot\", Object.values(persons))\n    return (\n        filteredNames.map(person => \n            <Person\n                key={person.id}\n                person={person}\n                handleRemove={() => handleRemove(person.id)}\n            />\n        )\n    )\n}\n\nexport default ViewPersons","\nimport React from 'react'\n\nconst Notification = ({ input }) => {\n\n  if (input === null) {\n    return null\n  }\n  \n  return (\n    <div className=\"message\">\n      {input}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react'\nimport Notification from './Notification'\n\nconst AddPersonForm = (props) => {\n\n    return (\n        <div>\n            <form onSubmit={props.addPerson}>\n                <div>\n                    nimi: <input\n                        value={props.newName}\n                        onChange={props.handleNewName} />\n                </div>\n                <div>\n                    numero: <input\n                        value={props.newNumber}\n                        onChange={props.handleNewNumber} />\n                </div>\n                <div>\n                    <button type=\"submit\">lisää</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default AddPersonForm","import React from 'react'\n\nconst FilterForm = (props) => {\n    return (\n      <div>\n        rajaa näytettäviä: <input\n          value={props.filter}\n          onChange={props.handleFilter} />\n      </div>\n    )\n  }\n\nexport default FilterForm","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport ViewPersons from './components/ViewPersons'\nimport AddPersonForm from './components/AddPersonForm'\nimport FilterForm from './components/FilterForm'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    }\n\n    //Estä saman nimen lisäämisen toiseen kertaan\n    if (persons.map(p => p.name).includes(newPerson.name)) {\n      setMessage(`${newPerson.name} on jo luettelossa`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      return null\n    }\n\n    personService.create(newPerson).then(returnedPerson => {\n      setPersons(persons.concat(returnedPerson))\n      setMessage(`Lisättiin ${newName}, ${newNumber}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      setNewName('')\n      setNewNumber('')\n    })\n      .catch(error => {\n        //setMessage(`${newName} ei voitu lisätä`)\n        setMessage(JSON.stringify(error.response.data.error))\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleRemove = id => {\n    const rightPerson = persons.find(n => n.id === id)\n    personService.remove(id).then(returnedPersons => {\n      setPersons(persons.filter(p => p.id !== id))\n      setMessage(`Poistettiin ${rightPerson.name}, ${rightPerson.number}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n\n    }).catch(error => {\n      setMessage(`${rightPerson.name} ei löydy luettelosta`)\n      //setMessage(JSON.stringify(error.response.data.error))\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    })\n  }\n\n  return (\n    <div>\n      <Notification input={message} />\n\n      <h1>Puhelinluettelo</h1>\n      <FilterForm\n        filter={filter}\n        handleFilter={handleFilter}\n      />\n\n      <h2>Lisää uusi</h2>\n      <AddPersonForm\n        addPerson={addPerson}\n        handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <h2>Numerot</h2>\n      <ViewPersons\n        persons={persons}\n        filt={filter}\n        handleRemove={handleRemove}\n      />\n    </div >\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}